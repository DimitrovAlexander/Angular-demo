<div class="container mx-auto py-12 px-4">
  <p-card [header]="isEditMode ? 'Edit Article' : 'Create New Article'" class="max-w-4xl mx-auto shadow-lg">
    <form (ngSubmit)="onSubmit()">
      <div class="mb-4">
        <label for="title" class="block text-gray-700 font-bold mb-2">Title</label>
        <input id="title" type="text" pInputText [(ngModel)]="article.title" name="title" class="w-full" required />
      </div>

      <div class="mb-4">
        <label for="category" class="block text-gray-700 font-bold mb-2">Category</label>
        <p-autocomplete 
          [(ngModel)]="article.category" 
          name="category"
          [suggestions]="filteredCategories" 
          (completeMethod)="searchCategory($event)"
          [dropdown]="true"
          field="."
          placeholder="Search or select a category"
          class="w-full"
          required />
      </div>

      <div class="mb-6">
        <label for="body" class="block text-gray-700 font-bold mb-2">Content</label>
        <p-editor [(ngModel)]="article.body" name="body" [style]="{'height':'320px'}" required></p-editor>
      </div>

      <div class="flex justify-end gap-2">
        <p-button label="Cancel" styleClass="p-button-secondary" [routerLink]="['/profile']"></p-button>
        <p-button type="submit" [label]="isEditMode ? 'Update Article' : 'Create Article'" styleClass="p-button-primary"></p-button>
      </div>
    </form>
  </p-card>
</div>
